<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TourBin · Sales Commander</title>
    <!-- فونت‌های برند -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdn.fontcdn.ir/Font/Persian/YekanBakh.css" rel="stylesheet">
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore-compat.js"></script>
    <!-- Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* ===== برند TOURBIN ===== */
        :root {
            --tb-deep-navy: #1A455A;
            --tb-teal-blue: #4A99A5;
            --tb-accent: #F9A825;
            --tb-navy-light: #2A5A72;
            --tb-teal-light: #6FB4BF;
            --tb-accent-light: #FFB74D;
            --tb-white: #FFFFFF;
            --tb-gray-50: #F8FAFC;
            --tb-gray-100: #F0F4F8;
            --tb-gray-200: #E2E8F0;
            --tb-gray-300: #CBD5E0;
            --tb-gray-400: #94A3B8;
            --tb-gray-500: #64748B;
            --tb-gray-600: #475569;
            --tb-gray-700: #2D3A4F;
            --tb-gray-800: #1E2A3A;
            --tb-success: #2C7A7A;
            --tb-warning: #F9A825;
            --tb-error: #C53030;
            --shadow-sm: 0 2px 8px rgba(26,69,90,0.06);
            --shadow-md: 0 4px 16px rgba(26,69,90,0.1);
            --shadow-lg: 0 8px 24px rgba(26,69,90,0.15);
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            background: var(--tb-gray-50);
            padding: 20px;
            font-family: 'Montserrat', 'Yekan Bakh', sans-serif;
            color: var(--tb-gray-700);
            direction: ltr;
        }
        .container {
            max-width: 1600px;
            margin: 0 auto;
        }
        /* ===== تایپوگرافی ===== */
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Montserrat', 'Yekan Bakh', sans-serif;
            font-weight: 700;
            color: var(--tb-deep-navy);
        }
        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--tb-deep-navy);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            letter-spacing: -0.3px;
        }
        .section-title i {
            color: var(--tb-teal-blue);
            font-size: 18px;
            background: rgba(74, 153, 165, 0.1);
            padding: 8px;
            border-radius: 10px;
        }
        .badge {
            padding: 4px 10px;
            border-radius: 30px;
            font-size: 11px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }
        .badge-success { background: rgba(44, 122, 122, 0.12); color: var(--tb-success); }
        .badge-warning { background: rgba(249, 168, 37, 0.12); color: var(--tb-accent); }
        .badge-error { background: rgba(197, 48, 48, 0.12); color: var(--tb-error); }
        .badge-teal { background: rgba(74, 153, 165, 0.12); color: var(--tb-teal-blue); }
        /* ===== هدر ساده با تقویم ===== */
        .navbar {
            background: var(--tb-white);
            border-radius: 24px;
            padding: 12px 20px;
            margin-bottom: 24px;
            box-shadow: var(--shadow-md);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(74, 153, 165, 0.15);
        }
        .logo-wrapper {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .logo-icon img {
            height: 42px;
            width: auto;
            object-fit: contain;
        }
        /* ===== فیلتر اصلی (تقویم) ===== */
        .filter-section {
            background: var(--tb-white);
            border-radius: 24px;
            padding: 16px 20px;
            margin-bottom: 24px;
            border: 1px solid rgba(74, 153, 165, 0.15);
            box-shadow: var(--shadow-sm);
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 20px;
        }
        .date-display {
            display: flex;
            align-items: center;
            gap: 12px;
            background: var(--tb-gray-50);
            padding: 8px 20px;
            border-radius: 40px;
            border: 1px solid var(--tb-gray-200);
            cursor: pointer;
            transition: all 0.2s;
        }
        .date-display:hover {
            border-color: var(--tb-teal-blue);
            background: var(--tb-white);
        }
        .date-display i { color: var(--tb-teal-blue); }
        .date-display span { font-size: 14px; font-weight: 500; color: var(--tb-deep-navy); }
        .filter-tabs {
            display: flex;
            gap: 6px;
            background: var(--tb-gray-50);
            padding: 4px;
            border-radius: 40px;
            border: 1px solid var(--tb-gray-200);
        }
        .filter-tab {
            padding: 6px 16px;
            border-radius: 40px;
            font-size: 12px;
            font-weight: 500;
            color: var(--tb-gray-600);
            cursor: pointer;
            background: transparent;
            border: none;
        }
        .filter-tab.active {
            background: var(--tb-teal-blue);
            color: white;
        }
        /* ===== Manager Summary با تایتل ===== */
        .summary-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--tb-deep-navy);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .manager-summary {
            background: linear-gradient(135deg, var(--tb-deep-navy), #235F75);
            border-radius: 28px;
            padding: 20px;
            margin-bottom: 24px;
            color: white;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(255,255,255,0.1);
        }
        .summary-item {
            padding: 14px;
            background: rgba(255,255,255,0.08);
            border-radius: 18px;
            backdrop-filter: blur(4px);
        }
        .summary-label {
            font-size: 11px;
            opacity: 0.8;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        .summary-value {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        .summary-trend {
            font-size: 11px;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        .summary-trend.positive { color: #A7F3D0; }
        .summary-trend.negative { color: #FEB2B2; }
        /* ===== KPI Grid ===== */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }
        .kpi-card {
            background: var(--tb-white);
            border-radius: 20px;
            padding: 16px;
            border: 1px solid rgba(74, 153, 165, 0.2);
            box-shadow: var(--shadow-sm);
            cursor: pointer;
            transition: all 0.2s;
        }
        .kpi-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            border-color: var(--tb-teal-blue);
        }
        .kpi-card.highlight {
            border: 2px solid var(--tb-teal-blue);
            background: linear-gradient(135deg, white, rgba(74, 153, 165, 0.04));
        }
        .kpi-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }
        .kpi-icon {
            width: 36px;
            height: 36px;
            background: rgba(74, 153, 165, 0.12);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--tb-teal-blue);
        }
        .kpi-trend-badge {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
        }
        .kpi-trend-badge.positive {
            background: rgba(44, 122, 122, 0.12);
            color: var(--tb-success);
        }
        .kpi-trend-badge.negative {
            background: rgba(197, 48, 48, 0.12);
            color: var(--tb-error);
        }
        .kpi-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--tb-deep-navy);
            margin-bottom: 4px;
        }
        .kpi-label {
            font-size: 12px;
            color: var(--tb-gray-500);
            margin-bottom: 8px;
        }
        /* ===== Booking Status Overview (جمع و جور) ===== */
        .status-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }
        .status-card {
            background: var(--tb-white);
            border-radius: 16px;
            padding: 12px;
            border: 1px solid rgba(74, 153, 165, 0.15);
            text-align: center;
        }
        .status-title {
            font-size: 11px;
            font-weight: 600;
            color: var(--tb-gray-500);
            margin-bottom: 4px;
        }
        .status-count {
            font-size: 18px;
            font-weight: 700;
            color: var(--tb-deep-navy);
        }
        .status-amount {
            font-size: 12px;
            color: var(--tb-gray-600);
            font-weight: 500;
        }
        /* ===== Sales Grid ===== */
        .sales-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 24px;
        }
        .sales-card {
            background: var(--tb-white);
            border-radius: 24px;
            padding: 20px;
            border: 1px solid rgba(74, 153, 165, 0.15);
            box-shadow: var(--shadow-sm);
        }
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--tb-gray-200);
        }
        .card-title {
            font-size: 15px;
            font-weight: 700;
            color: var(--tb-deep-navy);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .sales-item {
            margin-bottom: 16px;
        }
        .sales-item-header {
            display: flex;
            justify-content: space-between;
            font-weight: 600;
            color: var(--tb-deep-navy);
        }
        .sales-item-details {
            display: flex;
            gap: 12px;
            font-size: 12px;
            color: var(--tb-gray-500);
            margin: 4px 0;
        }
        /* ===== Weekly Pulse ===== */
        .weekly-pulse {
            background: var(--tb-white);
            border-radius: 28px;
            padding: 24px;
            margin-bottom: 24px;
            border: 1px solid rgba(74, 153, 165, 0.2);
        }
        .pulse-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        .pulse-week {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        .pulse-week button {
            background: none;
            border: 1px solid var(--tb-gray-200);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            color: var(--tb-teal-blue);
        }
        .week-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 16px;
        }
        .week-day {
            background: var(--tb-gray-50);
            border-radius: 16px;
            padding: 16px;
        }
        .day-name {
            font-weight: 700;
            color: var(--tb-teal-blue);
            margin-bottom: 4px;
        }
        .day-date {
            font-size: 13px;
            color: var(--tb-gray-500);
            margin-bottom: 12px;
        }
        .tour-line {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            margin: 4px 0;
        }
        .day-total {
            margin-top: 12px;
            padding-top: 8px;
            border-top: 1px solid var(--tb-gray-200);
            font-weight: 700;
            display: flex;
            justify-content: space-between;
        }
        /* ===== Cities Grid ===== */
        .cities-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 24px;
        }
        .city-card {
            background: var(--tb-white);
            border-radius: 24px;
            padding: 20px;
            border: 1px solid rgba(74, 153, 165, 0.15);
        }
        .city-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }
        .city-name {
            font-size: 16px;
            font-weight: 700;
            color: var(--tb-deep-navy);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .city-total {
            padding: 4px 12px;
            background: rgba(74, 153, 165, 0.12);
            color: var(--tb-teal-blue);
            border-radius: 30px;
            font-size: 12px;
            font-weight: 600;
        }
        .tour-item {
            background: var(--tb-gray-50);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
        }
        .tour-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
        }
        .tour-name { font-weight: 600; color: var(--tb-deep-navy); }
        .availability-number {
            font-size: 22px;
            font-weight: 700;
            color: var(--tb-teal-blue);
            margin-bottom: 8px;
        }
        .progress-bar {
            height: 4px;
            background: var(--tb-gray-200);
            border-radius: 10px;
            overflow: hidden;
            margin: 12px 0;
        }
        .progress-fill {
            height: 100%;
            background: var(--tb-teal-blue);
            border-radius: 10px;
        }
        .agent-list {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin: 12px 0;
        }
        .agent-tag {
            padding: 4px 10px;
            background: var(--tb-white);
            border: 1px solid var(--tb-teal-blue);
            border-radius: 20px;
            font-size: 11px;
            color: var(--tb-teal-blue);
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }
        .generate-btn {
            width: 100%;
            padding: 10px;
            background: var(--tb-teal-blue);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 16px;
        }
        .generate-btn:hover { background: var(--tb-deep-navy); }
        .footer {
            margin-top: 40px;
            text-align: center;
            font-size: 12px;
            color: var(--tb-gray-500);
            padding-top: 24px;
            border-top: 1px solid rgba(74, 153, 165, 0.2);
        }
        @media (max-width: 1200px) {
            .kpi-grid, .status-grid { grid-template-columns: repeat(4, 1fr); }
            .sales-grid, .cities-grid { grid-template-columns: repeat(2, 1fr); }
            .week-grid { grid-template-columns: repeat(4, 1fr); }
        }
        @media (max-width: 768px) {
            .kpi-grid, .status-grid { grid-template-columns: repeat(2, 1fr); }
            .sales-grid, .cities-grid { grid-template-columns: 1fr; }
            .week-grid { grid-template-columns: 1fr; }
            .manager-summary { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>
<div class="container">
    <!-- هدر فقط با لوگو (حذف نوشته‌ها) -->
    <nav class="navbar">
        <div class="logo-wrapper">
            <div class="logo-icon">
                <img src="https://irp.cdn-website.com/4c7fac7a/dms3rep/multi/tourbin.png" alt="TourBin" style="height: 42px;">
            </div>
        </div>
    </nav>

    <!-- تقویم و فیلترهای زمانی (مهمترین بخش) -->
    <section class="filter-section">
        <div class="date-display" id="dateRangeDisplay">
            <i class="fas fa-calendar-alt"></i>
            <span id="dateRangeText">Mar 2, 2026 - Mar 8, 2026</span>
        </div>
        <div class="filter-tabs">
            <button class="filter-tab active" onclick="setRange('today')">Today</button>
            <button class="filter-tab" onclick="setRange('7d')">7D</button>
            <button class="filter-tab" onclick="setRange('30d')">30D</button>
            <button class="filter-tab" onclick="setRange('month')">Month</button>
        </div>
    </section>

    <!-- Today Summary با تایتل و ۴ آیتم -->
    <div class="summary-title"><i class="fas fa-calendar-day"></i> Today Summary</div>
    <section class="manager-summary">
        <div class="summary-item">
            <div class="summary-label"><i class="fas fa-calendar-check"></i> Bookings</div>
            <div class="summary-value">45</div>
            <div class="summary-trend positive"><i class="fas fa-arrow-up"></i> +12% vs yesterday</div>
        </div>
        <div class="summary-item">
            <div class="summary-label"><i class="fas fa-dollar-sign"></i> Net Revenue</div>
            <div class="summary-value">$24,560</div>
            <div class="summary-trend positive"><i class="fas fa-arrow-up"></i> +8.3%</div>
        </div>
        <div class="summary-item">
            <div class="summary-label"><i class="fas fa-percent"></i> Commission</div>
            <div class="summary-value">$3,450</div>
            <div class="summary-trend negative"><i class="fas fa-arrow-down"></i> -2.1%</div>
        </div>
        <div class="summary-item">
            <div class="summary-label"><i class="fas fa-trophy"></i> Top Channel</div>
            <div class="summary-value">GetYourGuide</div>
            <div class="summary-trend positive">↑ 23%</div>
        </div>
    </section>

    <!-- KPI Grid -->
    <div class="section-title"><i class="fas fa-chart-line"></i><span>Key Performance Indicators</span></div>
    <section class="kpi-grid">
        <div class="kpi-card highlight">
            <div class="kpi-header"><div class="kpi-icon"><i class="fas fa-ticket-alt"></i></div><span class="kpi-trend-badge positive"><i class="fas fa-arrow-up"></i> 12.5%</span></div>
            <div class="kpi-value">1,245</div><div class="kpi-label">Total Bookings</div>
        </div>
        <div class="kpi-card">
            <div class="kpi-header"><div class="kpi-icon"><i class="fas fa-dollar-sign"></i></div><span class="kpi-trend-badge positive"><i class="fas fa-arrow-up"></i> 8.3%</span></div>
            <div class="kpi-value">$284.5K</div><div class="kpi-label">Gross Revenue</div>
        </div>
        <div class="kpi-card">
            <div class="kpi-header"><div class="kpi-icon"><i class="fas fa-chart-bar"></i></div><span class="kpi-trend-badge positive"><i class="fas fa-arrow-up"></i> 3.2%</span></div>
            <div class="kpi-value">$228</div><div class="kpi-label">Avg per Booking</div>
        </div>
        <div class="kpi-card">
            <div class="kpi-header"><div class="kpi-icon"><i class="fas fa-users"></i></div><span class="kpi-trend-badge positive"><i class="fas fa-arrow-up"></i> 1.5%</span></div>
            <div class="kpi-value">$116</div><div class="kpi-label">Avg per Pax</div>
        </div>
        <div class="kpi-card warning">
            <div class="kpi-header"><div class="kpi-icon"><i class="fas fa-percent"></i></div><span class="kpi-trend-badge negative"><i class="fas fa-arrow-down"></i> 2.1%</span></div>
            <div class="kpi-value">$45.2K</div><div class="kpi-label">Commission Paid</div>
        </div>
        <div class="kpi-card highlight">
            <div class="kpi-header"><div class="kpi-icon"><i class="fas fa-check-circle"></i></div><span class="kpi-trend-badge positive"><i class="fas fa-arrow-up"></i> 15%</span></div>
            <div class="kpi-value">$12.4K</div><div class="kpi-label">Commission Saved</div>
        </div>
    </section>

    <!-- Booking Status Overview (جمع و جور) -->
    <div class="section-title"><i class="fas fa-heartbeat"></i><span>Booking Status Overview</span></div>
    <section class="status-grid">
        <div class="status-card"><div class="status-title">CONFIRMED</div><div class="status-count">845</div><div class="status-amount">$198.2K</div></div>
        <div class="status-card"><div class="status-title">CANCELLED</div><div class="status-count">42</div><div class="status-amount">$8.4K</div></div>
        <div class="status-card"><div class="status-title">RESERVED</div><div class="status-count">156</div><div class="status-amount">$32.5K</div></div>
        <div class="status-card"><div class="status-title">PENDING</div><div class="status-count">98</div><div class="status-amount">$19.8K</div></div>
        <div class="status-card"><div class="status-title">REJECTED</div><div class="status-count">24</div><div class="status-amount">$4.9K</div></div>
        <div class="status-card"><div class="status-title">ABORTED</div><div class="status-count">12</div><div class="status-amount">$2.1K</div></div>
        <div class="status-card"><div class="status-title">TIMED OUT</div><div class="status-count">8</div><div class="status-amount">$1.6K</div></div>
    </section>

    <!-- Sales Grid -->
    <div class="section-title"><i class="fas fa-chart-bar"></i><span>Sales Performance</span></div>
    <section class="sales-grid">
        <!-- Top Agents -->
        <div class="sales-card">
            <div class="card-header"><div class="card-title"><i class="fas fa-crown" style="color: var(--tb-accent);"></i> Top Agents</div><span class="badge badge-teal">10% Comm</span></div>
            <div class="sales-item">
                <div class="sales-item-header"><span>Sarah Johnson</span><span>$8,760</span></div>
                <div class="sales-item-details"><span>45 bookings</span><span>89 pax</span></div>
                <div class="sales-item-numbers"><span class="badge badge-success">comm: $876</span></div>
            </div>
            <div class="sales-item">
                <div class="sales-item-header"><span>Mike Peterson</span><span>$6,540</span></div>
                <div class="sales-item-details"><span>38 bookings</span><span>76 pax</span></div>
                <div class="sales-item-numbers"><span class="badge badge-success">comm: $654</span></div>
            </div>
            <div class="sales-item">
                <div class="sales-item-header"><span>Emma Wilson</span><span>$5,430</span></div>
                <div class="sales-item-details"><span>32 bookings</span><span>64 pax</span></div>
                <div class="sales-item-numbers"><span class="badge badge-success">comm: $543</span></div>
            </div>
        </div>
        <!-- OTAs -->
        <div class="sales-card">
            <div class="card-header"><div class="card-title"><i class="fas fa-globe" style="color: var(--tb-teal-blue);"></i> OTAs</div><span class="badge badge-warning">30% · 25% · 20%</span></div>
            <div class="sales-item">
                <div class="sales-item-header"><span>GetYourGuide</span><span>$28,450</span></div>
                <div class="sales-item-details"><span>156 bookings</span></div>
                <div class="sales-item-numbers"><span class="badge badge-error">- $8,535</span></div>
            </div>
            <div class="sales-item">
                <div class="sales-item-header"><span>Viator</span><span>$16,780</span></div>
                <div class="sales-item-details"><span>98 bookings</span></div>
                <div class="sales-item-numbers"><span class="badge badge-error">- $4,195</span></div>
            </div>
            <div class="sales-item">
                <div class="sales-item-header"><span>Expedia</span><span>$8,950</span></div>
                <div class="sales-item-details"><span>45 bookings</span></div>
                <div class="sales-item-numbers"><span class="badge badge-error">- $1,790</span></div>
            </div>
        </div>
        <!-- Marketplaces -->
        <div class="sales-card">
            <div class="card-header"><div class="card-title"><i class="fas fa-store-alt"></i> Marketplaces</div><span class="badge badge-teal">Net Revenue</span></div>
            <div class="sales-item">
                <div class="sales-item-header"><span>GetYourGuide</span><span>$19,915</span></div>
                <div class="sales-item-details"><span>156 bookings</span></div>
                <div class="sales-item-numbers"><span class="badge badge-success">net</span></div>
            </div>
            <div class="sales-item">
                <div class="sales-item-header"><span>Viator</span><span>$12,585</span></div>
                <div class="sales-item-details"><span>98 bookings</span></div>
                <div class="sales-item-numbers"><span class="badge badge-success">net</span></div>
            </div>
            <div class="sales-item">
                <div class="sales-item-header"><span>TripAdvisor</span><span>$4,980</span></div>
                <div class="sales-item-details"><span>34 bookings</span></div>
                <div class="sales-item-numbers"><span class="badge badge-success">net</span></div>
            </div>
        </div>
        <!-- Direct Sales -->
        <div class="sales-card" style="border:2px solid var(--tb-accent);">
            <div class="card-header"><div class="card-title"><i class="fas fa-check-circle" style="color:var(--tb-accent);"></i> Direct · TourBin</div><span class="badge badge-warning">0% Comm</span></div>
            <div class="sales-item">
                <div class="sales-item-header"><span>Website Direct</span><span>$24,560</span></div>
                <div class="sales-item-details"><span>89 bookings · 100% margin</span></div>
                <div class="sales-item-numbers"><span class="badge badge-success">↑ net</span></div>
            </div>
            <div class="sales-item">
                <div class="sales-item-header"><span>Phone Sales</span><span>$8,940</span></div>
                <div class="sales-item-details"><span>34 bookings · 100% margin</span></div>
                <div class="sales-item-numbers"><span class="badge badge-success">↑ net</span></div>
            </div>
            <div class="sales-item">
                <div class="sales-item-header"><span>Email Inquiries</span><span>$5,670</span></div>
                <div class="sales-item-details"><span>23 bookings · 100% margin</span></div>
                <div class="sales-item-numbers"><span class="badge badge-success">↑ net</span></div>
            </div>
            <div style="margin-top:16px; background: rgba(249,168,37,0.08); padding:12px; border-radius:12px; display:flex; justify-content:space-between;">
                <span>Total Direct: $39,170</span>
                <span class="badge badge-success">Save $8,250</span>
            </div>
        </div>
    </section>

    <!-- Weekly Pulse -->
    <div class="section-title"><i class="fas fa-chart-line"></i><span>Weekly Pulse</span></div>
    <section class="weekly-pulse">
        <div class="pulse-header">
            <div class="pulse-week">
                <button onclick="prevWeek()"><i class="fas fa-chevron-left"></i></button>
                <span id="weekDisplay">Week 10</span>
                <button onclick="nextWeek()"><i class="fas fa-chevron-right"></i></button>
            </div>
            <span class="badge badge-teal" id="weekDateRange">Mar 2 - Mar 8, 2026</span>
        </div>
        <div class="week-grid" id="weekGrid">
            <!-- Dynamic content will be populated by JavaScript -->
        </div>
    </section>

    <!-- City Sales Plans -->
    <div class="section-title"><i class="fas fa-map-marked-alt"></i><span>City Sales Plans</span></div>
    <section class="cities-grid">
        <div class="city-card">
            <div class="city-header"><span class="city-name"><i class="fas fa-umbrella-beach"></i> Batumi</span><span class="city-total">23 seats</span></div>
            <div class="tour-item"><div class="tour-header"><span class="tour-name">Botanical Garden</span><span class="tour-capacity">/18</span></div><div class="availability-number">12</div><div class="progress-bar"><div class="progress-fill" style="width:33%"></div></div><div class="agent-list"><span class="agent-tag"><i class="fas fa-user"></i> Sarah:3</span><span class="agent-tag"><i class="fas fa-user"></i> Mike:2</span></div></div>
            <button class="generate-btn" onclick="alert('AI generating sales plan for Batumi...')"><i class="fas fa-robot"></i> Generate Plan</button>
        </div>
        <div class="city-card">
            <div class="city-header"><span class="city-name"><i class="fas fa-mountain"></i> Kazbegi</span><span class="city-total">15 seats</span></div>
            <div class="tour-item"><div class="tour-header"><span class="tour-name">Kazbegi Adventure</span><span class="tour-capacity">/18</span></div><div class="availability-number">5</div><div class="progress-bar"><div class="progress-fill" style="width:72%"></div></div><div class="agent-list"><span class="agent-tag"><i class="fas fa-user"></i> Mike:2</span><span class="agent-tag"><i class="fas fa-user"></i> Lisa:1</span></div></div>
            <button class="generate-btn" onclick="alert('AI generating sales plan for Kazbegi...')"><i class="fas fa-robot"></i> Generate Plan</button>
        </div>
        <div class="city-card">
            <div class="city-header"><span class="city-name"><i class="fas fa-city"></i> Tbilisi</span><span class="city-total">22 seats</span></div>
            <div class="tour-item"><div class="tour-header"><span class="tour-name">Old Town Tour</span><span class="tour-capacity">/18</span></div><div class="availability-number">15</div><div class="progress-bar"><div class="progress-fill" style="width:16%"></div></div><div class="agent-list"><span class="agent-tag"><i class="fas fa-user"></i> Emma:4</span><span class="agent-tag"><i class="fas fa-user"></i> John:3</span></div></div>
            <button class="generate-btn" onclick="alert('AI generating sales plan for Tbilisi...')"><i class="fas fa-robot"></i> Generate Plan</button>
        </div>
        <div class="city-card">
            <div class="city-header"><span class="city-name"><i class="fas fa-landmark"></i> Yerevan</span><span class="city-total">13 seats</span></div>
            <div class="tour-item"><div class="tour-header"><span class="tour-name">Walking Tour</span><span class="tour-capacity">/18</span></div><div class="availability-number">9</div><div class="progress-bar"><div class="progress-fill" style="width:50%"></div></div><div class="agent-list"><span class="agent-tag"><i class="fas fa-user"></i> David:2</span><span class="agent-tag"><i class="fas fa-user"></i> Sarah:1</span></div></div>
            <button class="generate-btn" onclick="alert('AI generating sales plan for Yerevan...')"><i class="fas fa-robot"></i> Generate Plan</button>
        </div>
    </section>

    <footer class="footer">
        <i class="fas fa-chart-line" style="color:var(--tb-accent);"></i> TourBin · Sales Commander
    </footer>
</div>

<script>
    // Flatpickr for date range
    flatpickr("#dateRangeDisplay", {
        mode: "range",
        dateFormat: "M j, Y",
        defaultDate: ["2026-03-02", "2026-03-08"],
        onChange: function(selectedDates, dateStr, instance) {
            document.getElementById('dateRangeText').innerText = dateStr;
        }
    });

    // Range buttons
    function setRange(range) {
        const tabs = document.querySelectorAll('.filter-tab');
        tabs.forEach(t => t.classList.remove('active'));
        event.target.classList.add('active');
        
        // Here you would fetch data based on range
        console.log('Fetching data for:', range);
    }

    // Weekly Pulse data
    const weekData = {
        10: {
            range: "Mar 2 - Mar 8, 2026",
            days: [
                { day: "MON", date: 10, tours: [["Tbilisi City",2], ["Kazbegi",3], ["Batumi",1]], total: 6 },
                { day: "TUE", date: 11, tours: [["Yerevan",4], ["Dilijan",2]], total: 6 },
                { day: "WED", date: 12, tours: [["Kazbegi",5], ["Old Town",3]], total: 8 },
                { day: "THU", date: 13, tours: [["Botanical",3]], total: 3 },
                { day: "FRI", date: 14, tours: [["Wine Tour",6], ["Kazbegi",2]], total: 8 },
                { day: "SAT", date: 15, tours: [["Tbilisi",4], ["Batumi",3]], total: 7 },
                { day: "SUN", date: 16, tours: [["Kazbegi",3]], total: 3 }
            ]
        }
    };

    let currentWeek = 10;

    function renderWeek(weekNum) {
        const data = weekData[weekNum];
        if (!data) return;
        
        document.getElementById('weekDisplay').innerText = `Week ${weekNum}`;
        document.getElementById('weekDateRange').innerText = data.range;
        
        let html = '';
        data.days.forEach(day => {
            html += `<div class="week-day"><div class="day-name">${day.day}</div><div class="day-date">${day.date}</div>`;
            day.tours.forEach(tour => {
                html += `<div class="tour-line"><span>${tour[0]}</span><span>${tour[1]}</span></div>`;
            });
            html += `<div class="day-total"><span>Total</span><span>${day.total} pax</span></div></div>`;
        });
        document.getElementById('weekGrid').innerHTML = html;
    }

    function prevWeek() {
        if (currentWeek > 1) {
            currentWeek--;
            renderWeek(currentWeek);
        }
    }

    function nextWeek() {
        currentWeek++;
        renderWeek(currentWeek);
    }

    // Initialize
    renderWeek(10);
</script>
</body>
</html>
